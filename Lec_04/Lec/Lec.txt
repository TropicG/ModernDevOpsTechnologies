* Deployment pipeline

    Използваме Deployment pipeline:
    - за да организираме всички стъпки, необходими за преминаване от идея до готов за издаване софтуер
    - за да автоматизиране колкото колкто се може повече от нашищ процес на разработка
    - за да гарантираме, че произвеждаме софтеур по повтаряем и надежден начин

    Има три основни, последователни етапи в този процес:
    - BUILD: Новонаписаният код се build-ва или компилира в работещото приложение
    - TEST: След като е изграден софтуера, той автоматично се тества, за да се провери за грешки
    - DEPLOY: Ако тестовете са успешни, софтуера се инсталира и се пуска в действие, за да бъде достъпен за крайните портебители 

    Целта на deployment pipeline-a е да започне от комит и да се премине до releseable outcome (готов за издавне резултат или продукт)
    Този процес трябва да е:
    - Възможно най-бърз
    - Повторяем, тоест да се изпълни по един и същи начин всеки път
    - Надежден, да работи безпроблемно и предвидимо
    - Проверим, тоест да оставят следи, които могат да бъдат проверени
    
    Deployment pipeline-a трябва да е единствения път до production
    # Тоест, целият софтуер преди да е стигнал до крайния потребител, трябва задължително да премине през този автоматизиран процес
    Deployment pipeline-a включва всякакви и всички стъпки, които са необходими, за да може новия софтуер да бъде готов за издаване 

    Примери за стъпки, който са включени в процеса:
    - unit tests
    - accepance tests
    - validation
    - integration

* Най-простият deployment pipeline 

    Основния поток на работа представлява:
    - Git repo -> Build -> Test -> Deploy
    # В git репота се пази кода и се правят комити, след това всеки комит стартира build фазата, където кода се компилира
    # След компилацията и софтуера вече е изграден, софтуерът автоматично се изпраща за тестване, за да се провери за грешки, ако тестовете са успешни, софтуера се пуска в продукционна среда

*  Deployment pipeline със стъпка за одобрение 

    Този процес протича през следните стъпки:
    - Git repo -> Build -> Test -> Deployment Test -> Approve
    -  ^I - - - - - - - - - - - -- - - - <- - -- - - <- <- l               
    # Pipeli-ne е същия както в горната точна, до стъпка Deployment Test, ако тестовете се успешни софтуерът се инсталира в специална тестова среда, това не е средата за реално потребители, а място за финални проверки
    # След тази стъпка трябва някой ръчно или автоматично да прегледа софтъера в тестовата среда и да реши дали е готов за пускане или не, ако отговорът е да процесът продължава към следващата стъпка, ако не означава че има проблеми и трябва да се допипа кода
    # Ако одобрението е да, тогава софтуера се инсталира в production и стига до крайните потребители

* Deployment pipeline с допълнителни стъпки 

    Потока на работа може да бъде следния:
    - Git repo-то ще бъде началната точка, в която се пази кода и се слагат новите промени
    - на всеки комит ще се прави build с новите промени
    - След самото билдване, започват три паралелни процес за ut, за проверка дали кода следва стандартите за писане и проверки за сигурност
    - Ако всички тези тестове за били успешно, софтуерът се инсталира в тестова среда
    - След като се направят тестовете в тестовата среда, човек от екипа или одобрява промените или не ги приема
    - В случай на приети промени процеса продължава, в противен случай се започва отново от git repo-то
    - След удобрението софтуерът се пуска в deploy production

* Популярни tool-ове за git repo и deployment pipeline 

    Github за git repo-то
    GitHub Actions за автоматизиране на pipeline-a 

* Какво е CI 

    Практика в разработката на софтуер, при която програмистите редовно обединяват (merge) промените по кода си в центрлано хранилище (repository), след което се изпълняват автоматизирани build-ове и тестове
    # Непрекъснатата интеграция е когато един програмист запазва работата си в git repo и след всеки път автоматично да се стартират процесите build и test

    Непрекъсната интеграция се отнася най-често за "the build or integration stage" и включва два компонента:
    - компонент за автоматизация ( automation component ), това е самият инструмент (Jenkins, Github actions), които извършват автоматично изграждането и тестване
    - а cultural component 
    # Трябва да се промени начина на мислене на екипа, да запазват промените си на малки насти и възможно най-често, вместо да се работи изолирано със седмици

    Ползите от прилагането на на практиката са:
    - намират се бъгове и се пооравят по-бързо
    # Понеже кода се тества при всяка малка промяна, това означава, че и най-малките грешки веднага могат да се намерят
    - подобрява се качеството на софтуера
    # По-бързото тестване на новите промени, прави кода по-стабилен и надежден краен продукт
    - да се намали времето, необходимо за валидаиране и издаване на нови софтуерни актуализации
    # Автоматизацията на тестовете и изграждането спестява много ръчна работа и ускорява целия процес по пускане на нови версии
    - непрекъснатата интеграция помага на екипа да бъде по-продуктивен, като освобождава от ръчни задачи и насърчава поведения, които помагат за намаляване на броя грешки и бъгове, пуснати към клиентите
    - непрекъснатата интеграция помага на екип да доставя актуализации на своите клиенти по-бързо и по-често

    Правила и практики, които екипите трябва да следва, за да прилагат успешно CI:
    - да се поддръжа едно-единствено хранилище за изходния код, като Git
    - да се автоматизира изграждането, тоест build процеса да се случва автоматично
    - да се включени и автоматични тестове, за да се провери дали кодът работи коректно
    - всеки commit да се изгражда на интеграционната машина
    # Всяка една промяна, трябва незабавно да задейства процеса по автоматичното изграждане и тестване на централен сървър 
    - да се поддържа изграждането бързо
    - да се тества в копие на продукционната среда
    # тази тестова среда трябва да е максимално идентична с реалната среда, която биха ползвали клиентите
    - да се направи така, че всеки да е лесно да вземе последната изпълнима версия
    - да се автоматизира внедряването
    # процесът по инсталиране и пускане на новата версия също трябва да е автоматизиран 

* Практики за тестване като част от CI процеса 

    Има различни видове проверки и тестове, които се извършват по време на етапа "Test" на CI:
    - Software build е първоначалната проверка дали кодът изобщо може да се билдне успешно
    - Unit testing е тестването на най-малките, индивидуални части от кода
    - Code quality съдържа автоматизирани проверки дали кодът е написан спроед стандартите на екипа
    - Integration testing са тестове, които проверяват дали различните части на софтуера работят коректно заедно
    - Security testing са тестове, които проверяват уязвимости в сигурността
    - Performan testing, които проверяват колко бързо работи софтуерът и колко натоварване може да поеме
    - UI testing-a тества визуалната част на приложението
    - Accesibility testing са тестове дали софтуерът е използваем от хора с увреждания

* Пирамида на тестването 

    Основната идея на пирамидата е, че трябва да се пише голям брой бързи и надеждни тестове и много малък брой бавни и по-чупливи UI Test

* Разликата между CI и CD 

    Целта на CI е непрекъснато да се проверява дали новият код е качествен и работи правилно с останалата част от приложението

    CD обхваща целия процес от CI, но добавя стъпката за удобрение дали се се пусне софтуера в реална среда:
    - Approve: Това е ръчна стъпка, при която човек от екипа удобрява промените в кода
    - Deploy Production: Само след като се е случило одобрението, тогава софтуера се пуска в реалната среда за крайните потребители

    # CI е автоматизираната част
    # CD е целият процес